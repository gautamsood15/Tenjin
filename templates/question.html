{% extends 'layouts/page.html' %}

{% block content %}

<div class="page">
    <br>
    <br>
<div class="question-list-item">
    <div class="main-question-detail">
        <h3 class="title">{{question.title}}</h3>
        <p class="question-body">{{question.body}}</p>
        <span class="question-author">by {{question.author.username}}</span>

    <div>

<hr>

        



        {% if user.is_authenticated %}
        <form method="POST" action="" class="response-form">
        {% csrf_token %}
        <div>
            <!-- <label for="{{response_form.body.id_for_label}}"></label> -->
            {{response_form.body}}
        </div>
        

        <button type="submit" class="btn btn-primary">Reply</button>
        </form>
        {% endif %}



<hr>



        <div class="responses-container">
            <h4 class="responses-container-heading">Responses</h4>

            {% if not question.responses.all %}
                <p class="no-responses-text">No responses yet</p>
            {% else %}
                {% for response in question.get_responses %}
                    {% include 'components/response.html' with response=response %}
                {% endfor %}
            {% endif %}

        </div>


    </div>
</div>
</div>




{% endblock %}